<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Infinite Clicker Adventure</title>
  <style>
    /* Basic reset and styling */
    body {
      margin: 0;
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      background: linear-gradient(135deg, #2c3e50, #bdc3c7);
      color: #ecf0f1;
      overflow-x: hidden;
    }
    .container {
      max-width: 800px;
      margin: 40px auto;
      text-align: center;
      padding: 20px;
      background: rgba(0, 0, 0, 0.5);
      border-radius: 10px;
      box-shadow: 0 8px 16px rgba(0,0,0,0.3);
    }
    h1 {
      margin-bottom: 10px;
    }
    .stats {
      margin: 20px 0;
      font-size: 1.2em;
    }
    button {
      background: #e67e22;
      border: none;
      color: #fff;
      padding: 15px 30px;
      font-size: 1.2em;
      border-radius: 5px;
      cursor: pointer;
      transition: background 0.3s, transform 0.1s;
      margin: 10px;
    }
    button:hover {
      background: #d35400;
    }
    button:active {
      transform: scale(0.98);
    }
    /* Upgrades styling */
    .upgrades {
      margin-top: 30px;
    }
    .upgrade-item {
      background: rgba(0, 0, 0, 0.4);
      padding: 15px;
      border-radius: 8px;
      margin: 10px;
      display: inline-block;
      width: 240px;
      vertical-align: top;
      box-shadow: 0 4px 8px rgba(0,0,0,0.2);
    }
    .upgrade-item h3 {
      margin: 0;
    }
    .upgrade-item p {
      margin: 5px 0;
      font-size: 0.95em;
    }
    .progress {
      width: 100%;
      background: #34495e;
      border-radius: 5px;
      overflow: hidden;
      margin-top: 10px;
      height: 20px;
    }
    .progress-inner {
      height: 100%;
      width: 0;
      background: #27ae60;
      transition: width 0.5s;
    }
    /* Reward float animation */
    @keyframes float {
      0% { transform: translateY(0); opacity: 1; }
      100% { transform: translateY(-50px); opacity: 0; }
    }
    .reward {
      position: absolute;
      font-size: 1.5em;
      pointer-events: none;
      animation: float 1s ease-out forwards;
      color: #f1c40f;
    }
    /* Reset button fixed in bottom-right */
    #resetButton {
      position: fixed;
      bottom: 20px;
      right: 20px;
      background: #c0392b;
      border: none;
      padding: 10px 20px;
      border-radius: 5px;
      color: #fff;
      cursor: pointer;
      transition: background 0.3s;
    }
    #resetButton:hover {
      background: #e74c3c;
    }
  </style>
</head>
<body>
  <div class="container">
    <h1>Infinite Clicker Adventure</h1>
    <div class="stats">
      <div>Points: <span id="points">0</span></div>
      <div>Points per Click: <span id="ppc">1</span></div>
      <div>Auto-Clickers: <span id="auto">0</span></div>
    </div>
    <button id="clickButton">Click Me!</button>

    <div class="upgrades">
      <h2>Upgrades</h2>
      <div class="upgrade-item">
        <h3>Better Clicks</h3>
        <p>Increase points per click.</p>
        <p>Cost: <span id="cost-click">10</span></p>
        <button class="upgrade" data-upgrade="click">Buy Upgrade</button>
        <div class="progress" id="progress-click">
          <div class="progress-inner"></div>
        </div>
      </div>
      <div class="upgrade-item">
        <h3>Auto Clicker</h3>
        <p>Clicks automatically every second.</p>
        <p>Cost: <span id="cost-auto">50</span></p>
        <button class="upgrade" data-upgrade="auto">Buy Auto</button>
        <div class="progress" id="progress-auto">
          <div class="progress-inner"></div>
        </div>
      </div>
    </div>
  </div>

  <!-- Reset button -->
  <button id="resetButton">Reset Game</button>

  <script>
    (function(){
      // Game variables
      let points = 0;
      let pointsPerClick = 1;
      let autoClickers = 0;
      let costClick = 10;
      let costAuto = 50;
      
      // DOM elements
      const pointsEl = document.getElementById('points');
      const ppcEl = document.getElementById('ppc');
      const autoEl = document.getElementById('auto');
      const costClickEl = document.getElementById('cost-click');
      const costAutoEl = document.getElementById('cost-auto');
      const clickButton = document.getElementById('clickButton');
      const upgradeButtons = document.querySelectorAll('.upgrade');
      const resetButton = document.getElementById('resetButton');

      // Update UI display
      function updateUI() {
        pointsEl.textContent = Math.floor(points);
        ppcEl.textContent = pointsPerClick;
        autoEl.textContent = autoClickers;
        costClickEl.textContent = costClick;
        costAutoEl.textContent = costAuto;
      }
      
      // Function to show animated floating reward text
      function showReward(x, y, text) {
        const reward = document.createElement('div');
        reward.className = 'reward';
        reward.style.left = x + 'px';
        reward.style.top = y + 'px';
        reward.textContent = text;
        document.body.appendChild(reward);
        // Remove the element after animation completes
        setTimeout(() => {
          if(reward && reward.parentNode) reward.parentNode.removeChild(reward);
        }, 1000);
      }
      
      // Click button event
      clickButton.addEventListener('click', function(e){
        points += pointsPerClick;
        updateUI();
        // Show reward at the click position
        showReward(e.clientX, e.clientY, '+' + pointsPerClick);
      });
      
      // Upgrade button event listeners
      upgradeButtons.forEach(function(button) {
        button.addEventListener('click', function(){
          const type = button.getAttribute('data-upgrade');
          if(type === 'click'){
            if(points >= costClick) {
              points -= costClick;
              pointsPerClick++;
              costClick = Math.floor(costClick * 1.5);
              updateUI();
              animateProgress('progress-click');
            }
          } else if(type === 'auto'){
            if(points >= costAuto) {
              points -= costAuto;
              autoClickers++;
              costAuto = Math.floor(costAuto * 1.7);
              updateUI();
              animateProgress('progress-auto');
            }
          }
        });
      });
      
      // Animate progress bar on upgrade purchase
      function animateProgress(id) {
        const progress = document.getElementById(id).querySelector('.progress-inner');
        progress.style.width = '100%';
        setTimeout(() => { progress.style.width = '0'; }, 500);
      }
      
      // Auto clicker functionality â€“ adds points every second
      setInterval(function(){
        if(autoClickers > 0) {
          points += autoClickers;
          updateUI();
        }
      }, 1000);
      
      // Bonus event: occasional bonus points from the center of the screen
      function bonusEvent() {
        if(Math.random() < 0.1) { // 10% chance every 5 seconds
          const bonus = Math.floor(Math.random()*20) + 10;
          points += bonus;
          updateUI();
          showReward(window.innerWidth/2, window.innerHeight/2, 'Bonus +' + bonus);
        }
      }
      setInterval(bonusEvent, 5000);
      
      // Save and load game state using localStorage
      function saveGame() {
        const state = {
          points: points,
          pointsPerClick: pointsPerClick,
          autoClickers: autoClickers,
          costClick: costClick,
          costAuto: costAuto
        };
        localStorage.setItem('infiniteClickerGame', JSON.stringify(state));
      }
      
      function loadGame() {
        const saved = localStorage.getItem('infiniteClickerGame');
        if(saved) {
          const state = JSON.parse(saved);
          points = state.points;
          pointsPerClick = state.pointsPerClick;
          autoClickers = state.autoClickers;
          costClick = state.costClick;
          costAuto = state.costAuto;
          updateUI();
        }
      }
      
      // Reset game function
      function resetGame() {
        if(confirm("Are you sure you want to reset your game?")) {
          points = 0;
          pointsPerClick = 1;
          autoClickers = 0;
          costClick = 10;
          costAuto = 50;
          localStorage.removeItem('infiniteClickerGame');
          updateUI();
        }
      }
      
      // Save game periodically every 5 seconds
      setInterval(saveGame, 5000);
      
      // Load saved game on startup
      loadGame();
      
      // Reset button event listener
      resetButton.addEventListener('click', resetGame);
      
      // Initial UI update
      updateUI();
    })();
  </script>
</body>
</html>
