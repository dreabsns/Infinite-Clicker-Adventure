<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Infinite Clicker Extreme</title>
  <style>
    /* Reset & Basic Styling */
    * { box-sizing: border-box; margin: 0; padding: 0; }
    body {
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      background: linear-gradient(135deg, #1c1c1c, #434343);
      color: #f0f0f0;
      overflow-x: hidden;
      min-height: 100vh;
    }
    header {
      background: #222;
      padding: 15px;
      text-align: center;
      box-shadow: 0 2px 6px rgba(0,0,0,0.6);
    }
    header h1 { font-size: 2em; }
    nav {
      display: flex;
      justify-content: center;
      margin-top: 10px;
    }
    nav button {
      background: #444;
      border: none;
      padding: 10px 20px;
      margin: 0 5px;
      border-radius: 5px;
      color: #f0f0f0;
      cursor: pointer;
      transition: background 0.3s;
    }
    nav button.active, nav button:hover {
      background: #e67e22;
    }
    .container {
      max-width: 1000px;
      margin: 20px auto;
      padding: 20px;
      background: rgba(0,0,0,0.6);
      border-radius: 8px;
      box-shadow: 0 8px 16px rgba(0,0,0,0.5);
    }
    .hidden { display: none; }
    
    /* Game Screen */
    #gameScreen {
      text-align: center;
    }
    #clickButton {
      background: #e67e22;
      border: none;
      color: #fff;
      padding: 20px 40px;
      font-size: 1.5em;
      border-radius: 10px;
      cursor: pointer;
      transition: transform 0.1s, background 0.3s;
      margin: 20px;
    }
    #clickButton:hover { background: #d35400; }
    #clickButton:active { transform: scale(0.98); }
    .stats {
      font-size: 1.2em;
      margin: 10px 0;
    }
    /* Floating reward animation */
    @keyframes float {
      0% { transform: translateY(0); opacity: 1; }
      100% { transform: translateY(-60px); opacity: 0; }
    }
    .reward {
      position: absolute;
      font-size: 1.3em;
      pointer-events: none;
      animation: float 1s ease-out forwards;
      color: #f1c40f;
    }
    
    /* Upgrades Screen */
    .upgrade-item {
      background: rgba(0,0,0,0.4);
      padding: 15px;
      margin: 10px;
      border-radius: 8px;
      display: inline-block;
      width: 280px;
      vertical-align: top;
      box-shadow: 0 4px 8px rgba(0,0,0,0.4);
    }
    .upgrade-item h3 { margin-bottom: 5px; }
    .upgrade-item p { margin-bottom: 5px; font-size: 0.95em; }
    .upgrade-item button {
      background: #3498db;
      border: none;
      padding: 10px;
      border-radius: 5px;
      color: #fff;
      cursor: pointer;
      transition: background 0.3s;
    }
    .upgrade-item button:hover { background: #2980b9; }
    .progress {
      width: 100%;
      background: #34495e;
      border-radius: 5px;
      overflow: hidden;
      margin-top: 10px;
      height: 18px;
    }
    .progress-inner {
      height: 100%;
      width: 0;
      background: #27ae60;
      transition: width 0.5s;
    }
    
    /* Achievements Screen */
    .achievement {
      background: rgba(0,0,0,0.5);
      padding: 10px;
      margin: 10px;
      border-radius: 5px;
      display: flex;
      justify-content: space-between;
      align-items: center;
    }
    .achievement.locked { opacity: 0.5; }
    .achievement.unlocked { border: 2px solid #f1c40f; }
    
    /* Prestige Screen */
    .prestige-info { font-size: 1.2em; margin: 10px 0; }
    .prestige-btn {
      background: #9b59b6;
      border: none;
      padding: 10px 20px;
      border-radius: 5px;
      color: #fff;
      cursor: pointer;
      transition: background 0.3s;
    }
    .prestige-btn:hover { background: #8e44ad; }
    
    /* Reset and Daily Bonus */
    #resetButton, #dailyBonusButton {
      position: fixed;
      bottom: 20px;
      border: none;
      padding: 10px 20px;
      border-radius: 5px;
      color: #fff;
      cursor: pointer;
      transition: background 0.3s;
    }
    #resetButton { right: 20px; background: #c0392b; }
    #resetButton:hover { background: #e74c3c; }
    #dailyBonusButton {
      left: 20px;
      background: #27ae60;
    }
    #dailyBonusButton:hover { background: #2ecc71; }
  </style>
</head>
<body>
  <header>
    <h1>Infinite Clicker Extreme</h1>
    <nav>
      <button data-screen="gameScreen" class="active">Game</button>
      <button data-screen="upgradesScreen">Upgrades</button>
      <button data-screen="achievementsScreen">Achievements</button>
      <button data-screen="prestigeScreen">Prestige</button>
    </nav>
  </header>
  <div class="container">
    <!-- Game Screen -->
    <div id="gameScreen">
      <div class="stats">
        <div>Points: <span id="points">0</span></div>
        <div>Points per Click: <span id="ppc">1</span></div>
        <div>Auto Clickers: <span id="auto">0</span></div>
        <div>Prestige Multiplier: x<span id="prestigeMultiplier">1</span></div>
      </div>
      <button id="clickButton">Click Me!</button>
    </div>
    
    <!-- Upgrades Screen -->
    <div id="upgradesScreen" class="hidden">
      <h2>Upgrades</h2>
      <div id="upgradesContainer">
        <!-- Upgrade items will be dynamically inserted -->
      </div>
    </div>
    
    <!-- Achievements Screen -->
    <div id="achievementsScreen" class="hidden">
      <h2>Achievements</h2>
      <div id="achievementsContainer">
        <!-- Achievements will be listed here -->
      </div>
    </div>
    
    <!-- Prestige Screen -->
    <div id="prestigeScreen" class="hidden">
      <h2>Prestige</h2>
      <div class="prestige-info">
        Current Prestige Points: <span id="prestigePoints">0</span>
      </div>
      <div class="prestige-info">
        Prestige Bonus (added to clicks & auto): x<span id="prestigeBonus">1</span>
      </div>
      <button id="prestigeButton" class="prestige-btn">Prestige (Reset for bonus)</button>
      <p style="margin-top:15px; font-size:0.9em;">Note: You must have at least 1000 points to prestige.</p>
    </div>
  </div>
  
  <!-- Fixed Buttons -->
  <button id="dailyBonusButton">Daily Bonus</button>
  <button id="resetButton">Reset Game</button>
  
  <script>
    (function(){
      /*** GAME VARIABLES ***/
      let points = 0;
      let pointsPerClick = 1;
      let autoClickers = 0;
      let prestigePoints = 0;
      let prestigeBonus = 1; // Each prestige point adds 0.1 bonus (for example)
      let bonusChance = 0.1; // base 10% bonus chance
      
      // Upgrade data: each upgrade has id, name, description, cost, effect value, purchased count, and a type.
      // Types: "click" (increases click power), "auto" (adds auto clickers), "multiplier" (multiplies gains), "lucky" (increases bonus chance)
      const upgrades = [
        {
          id: 'clickUpgrade',
          name: 'Better Clicks',
          description: 'Increase points per click by +1.',
          cost: 10,
          effect: 1,
          count: 0,
          type: 'click'
        },
        {
          id: 'autoUpgrade',
          name: 'Auto Clicker',
          description: 'Adds 1 auto clicker (points every second).',
          cost: 50,
          effect: 1,
          count: 0,
          type: 'auto'
        },
        {
          id: 'multiUpgrade',
          name: 'Multiplier Boost',
          description: 'Increase overall point multiplier by 5%.',
          cost: 100,
          effect: 0.05,
          count: 0,
          type: 'multiplier'
        },
        {
          id: 'luckyUpgrade',
          name: 'Lucky Charm',
          description: 'Increase bonus event chance by 2%.',
          cost: 200,
          effect: 0.02,
          count: 0,
          type: 'lucky'
        }
      ];
      
      // Achievements data
      const achievements = [
        { id: 'achv1', name: 'Getting Started', description: 'Earn 100 points.', achieved: false, condition: () => points >= 100 },
        { id: 'achv2', name: 'Click Master', description: 'Perform 100 clicks.', achieved: false, condition: () => totalClicks >= 100 },
        { id: 'achv3', name: 'Auto Pilot', description: 'Have 10 auto clickers.', achieved: false, condition: () => autoClickers >= 10 },
        { id: 'achv4', name: 'Prestigious', description: 'Earn your first prestige point.', achieved: false, condition: () => prestigePoints >= 1 },
        { id: 'achv5', name: 'Upgrade Addict', description: 'Purchase 20 upgrades.', achieved: false, condition: () => totalUpgradesPurchased >= 20 }
      ];
      
      let totalClicks = 0;
      let totalUpgradesPurchased = 0;
      
      /*** DOM ELEMENTS ***/
      const pointsEl = document.getElementById('points');
      const ppcEl = document.getElementById('ppc');
      const autoEl = document.getElementById('auto');
      const prestigeMultiplierEl = document.getElementById('prestigeMultiplier');
      const prestigePointsEl = document.getElementById('prestigePoints');
      const prestigeBonusEl = document.getElementById('prestigeBonus');
      const clickButton = document.getElementById('clickButton');
      const upgradesContainer = document.getElementById('upgradesContainer');
      const achievementsContainer = document.getElementById('achievementsContainer');
      const prestigeButton = document.getElementById('prestigeButton');
      const resetButton = document.getElementById('resetButton');
      const dailyBonusButton = document.getElementById('dailyBonusButton');
      const navButtons = document.querySelectorAll('nav button');
      
      /*** UTILITY FUNCTIONS ***/
      function updateUI() {
        pointsEl.textContent = Math.floor(points);
        ppcEl.textContent = pointsPerClick.toFixed(2);
        autoEl.textContent = autoClickers;
        prestigeMultiplierEl.textContent = (1 + prestigePoints * 0.1).toFixed(2);
        prestigePointsEl.textContent = prestigePoints;
        prestigeBonusEl.textContent = (1 + prestigePoints * 0.1).toFixed(2);
        updateUpgradesUI();
        updateAchievementsUI();
      }
      
      function showReward(x, y, text) {
        const reward = document.createElement('div');
        reward.className = 'reward';
        reward.style.left = x + 'px';
        reward.style.top = y + 'px';
        reward.textContent = text;
        document.body.appendChild(reward);
        setTimeout(() => {
          reward.remove();
        }, 1000);
      }
      
      /*** TABS NAVIGATION ***/
      navButtons.forEach(btn => {
        btn.addEventListener('click', function(){
          document.querySelectorAll('.container > div').forEach(screen => {
            screen.classList.add('hidden');
          });
          const target = document.getElementById(this.getAttribute('data-screen'));
          if(target) target.classList.remove('hidden');
          navButtons.forEach(b => b.classList.remove('active'));
          this.classList.add('active');
        });
      });
      
      /*** GAME CLICK HANDLER ***/
      clickButton.addEventListener('click', function(e){
        totalClicks++;
        // Calculate bonus multiplier from prestige and upgrades (multiplier upgrades)
        let upgradeMultiplier = 1 + upgrades.filter(u => u.type === 'multi').reduce((acc, u) => acc + u.count * u.effect, 0);
        let currentMultiplier = (1 + prestigePoints * 0.1) * upgradeMultiplier;
        let added = pointsPerClick * currentMultiplier;
        points += added;
        updateUI();
        showReward(e.clientX, e.clientY, '+' + added.toFixed(0));
      });
      
      /*** AUTO CLICKERS ***/
      setInterval(() => {
        if(autoClickers > 0) {
          // Each auto clicker also benefits from multipliers
          let upgradeMultiplier = 1 + upgrades.filter(u => u.type === 'multi').reduce((acc, u) => acc + u.count * u.effect, 0);
          let currentMultiplier = (1 + prestigePoints * 0.1) * upgradeMultiplier;
          let autoPoints = autoClickers * currentMultiplier;
          points += autoPoints;
          updateUI();
        }
      }, 1000);
      
      /*** BONUS EVENTS ***/
      function bonusEvent() {
        // Base chance plus extra from lucky upgrades
        let extraChance = upgrades.filter(u => u.type === 'lucky').reduce((acc, u) => acc + u.count * u.effect, 0);
        if(Math.random() < bonusChance + extraChance) {
          let bonus = Math.floor(Math.random() * 50) + 20;
          points += bonus;
          updateUI();
          showReward(window.innerWidth/2, window.innerHeight/2, 'Bonus +' + bonus);
        }
      }
      setInterval(bonusEvent, 7000);
      
      /*** DAILY BONUS ***/
      dailyBonusButton.addEventListener('click', function(){
        const lastClaim = localStorage.getItem('dailyBonusTime');
        const now = Date.now();
        if(lastClaim && now - lastClaim < 24 * 60 * 60 * 1000) {
          alert("Daily bonus already claimed. Come back later!");
          return;
        }
        const bonus = Math.floor(Math.random() * 200) + 100;
        points += bonus;
        updateUI();
        localStorage.setItem('dailyBonusTime', now);
        showReward(window.innerWidth/2, window.innerHeight/2, 'Daily +' + bonus);
      });
      
      /*** UPGRADES ***/
      function updateUpgradesUI() {
        // Clear container
        upgradesContainer.innerHTML = '';
        upgrades.forEach(upg => {
          const div = document.createElement('div');
          div.className = 'upgrade-item';
          div.innerHTML = `
            <h3>${upg.name}</h3>
            <p>${upg.description}</p>
            <p>Cost: <span id="cost-${upg.id}">${upg.cost}</span> | Owned: ${upg.count}</p>
            <button data-upgrade="${upg.id}">Buy Upgrade</button>
            <div class="progress" id="progress-${upg.id}">
              <div class="progress-inner"></div>
            </div>
          `;
          upgradesContainer.appendChild(div);
        });
        // Add event listeners for each upgrade button
        document.querySelectorAll('[data-upgrade]').forEach(btn => {
          btn.addEventListener('click', function(){
            const upgId = this.getAttribute('data-upgrade');
            purchaseUpgrade(upgId);
          });
        });
      }
      
      function purchaseUpgrade(id) {
        const upg = upgrades.find(u => u.id === id);
        if(points >= upg.cost) {
          points -= upg.cost;
          upg.count++;
          totalUpgradesPurchased++;
          // Increase cost exponentially
          upg.cost = Math.floor(upg.cost * 1.5);
          // Apply upgrade effects immediately
          if(upg.type === 'click') {
            pointsPerClick += upg.effect;
          } else if(upg.type === 'auto') {
            autoClickers += upg.effect;
          }
          updateUI();
          animateProgress('progress-' + upg.id);
        } else {
          alert("Not enough points for this upgrade!");
        }
      }
      
      function animateProgress(id) {
        const progress = document.getElementById(id).querySelector('.progress-inner');
        progress.style.width = '100%';
        setTimeout(() => { progress.style.width = '0'; }, 500);
      }
      
      /*** ACHIEVEMENTS ***/
      function updateAchievementsUI() {
        achievementsContainer.innerHTML = '';
        achievements.forEach(achv => {
          // Check if achievement condition is met
          if(!achv.achieved && achv.condition()) {
            achv.achieved = true;
            // Award prestige point bonus if desired (here we simply notify the player)
            alert("Achievement Unlocked: " + achv.name);
          }
          const div = document.createElement('div');
          div.className = 'achievement ' + (achv.achieved ? 'unlocked' : 'locked');
          div.innerHTML = `<span>${achv.name}</span><span>${achv.achieved ? 'Unlocked' : 'Locked'}</span>`;
          achievementsContainer.appendChild(div);
        });
      }
      
      /*** PRESTIGE SYSTEM ***/
      prestigeButton.addEventListener('click', function(){
        if(points < 1000) {
          alert("You need at least 1000 points to prestige!");
          return;
        }
        if(confirm("Prestiging will reset your game but grant you a bonus multiplier. Continue?")) {
          // Calculate prestige points gained (e.g., 1 per 1000 points over threshold)
          const gained = Math.floor(points / 1000);
          prestigePoints += gained;
          // Reset most game variables
          points = 0;
          pointsPerClick = 1;
          autoClickers = 0;
          upgrades.forEach(upg => {
            upg.count = 0;
            // Reset costs to initial values:
            if(upg.id === 'clickUpgrade') upg.cost = 10;
            if(upg.id === 'autoUpgrade') upg.cost = 50;
            if(upg.id === 'multiUpgrade') upg.cost = 100;
            if(upg.id === 'luckyUpgrade') upg.cost = 200;
          });
          totalClicks = 0;
          totalUpgradesPurchased = 0;
          updateUI();
          alert("Prestige successful! You gained " + gained + " prestige points.");
        }
      });
      
      /*** RESET GAME ***/
      resetButton.addEventListener('click', function(){
        if(confirm("Are you sure you want to reset your game? This cannot be undone.")) {
          points = 0;
          pointsPerClick = 1;
          autoClickers = 0;
          prestigePoints = 0;
          upgrades.forEach(upg => {
            upg.count = 0;
            if(upg.id === 'clickUpgrade') upg.cost = 10;
            if(upg.id === 'autoUpgrade') upg.cost = 50;
            if(upg.id === 'multiUpgrade') upg.cost = 100;
            if(upg.id === 'luckyUpgrade') upg.cost = 200;
          });
          totalClicks = 0;
          totalUpgradesPurchased = 0;
          localStorage.removeItem('infiniteClickerExtreme');
          updateUI();
        }
      });
      
      /*** SAVE & LOAD GAME STATE ***/
      function saveGame() {
        const state = {
          points, pointsPerClick, autoClickers, prestigePoints,
          upgrades: upgrades.map(u => ({ id: u.id, cost: u.cost, count: u.count })),
          totalClicks,
          totalUpgradesPurchased
        };
        localStorage.setItem('infiniteClickerExtreme', JSON.stringify(state));
      }
      
      function loadGame() {
        const saved = localStorage.getItem('infiniteClickerExtreme');
        if(saved) {
          const state = JSON.parse(saved);
          points = state.points;
          pointsPerClick = state.pointsPerClick;
          autoClickers = state.autoClickers;
          prestigePoints = state.prestigePoints;
          totalClicks = state.totalClicks;
          totalUpgradesPurchased = state.totalUpgradesPurchased;
          // Restore upgrades data by matching ids
          state.upgrades.forEach(savedUpg => {
            const upg = upgrades.find(u => u.id === savedUpg.id);
            if(upg) {
              upg.cost = savedUpg.cost;
              upg.count = savedUpg.count;
            }
          });
          updateUI();
        }
      }
      
      setInterval(saveGame, 5000);
      
      /*** INITIALIZE ***/
      loadGame();
      updateUI();
    })();
  </script>
</body>
</html>
